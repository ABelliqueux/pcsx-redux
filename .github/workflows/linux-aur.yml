name: Linux CI AUR

on:
  push:
    branches:
      - main
      - aur-package-ci
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest
    container:
      image: archlinux:latest
    steps:
      - name: Build AUR Package
        run: |
          pacman -S --noconfirm pcapstone curl ffmpeg freetype2 glfw libuv sdl2 zlib git make pkg-config
          git clone https://aur.archlinux.org/pcsx-redux-git.git
          cd pcsx-redux-git && makepkg
